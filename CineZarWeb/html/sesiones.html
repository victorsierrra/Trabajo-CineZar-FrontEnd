<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sesiones de Película</title>
    <link rel="stylesheet" href="/build/sesiones.css"> <!-- Asegúrate de tener el CSS adecuado -->
</head>
<body>
    <div class="container">
        <header>
            <h1 id="titulo-pelicula">Sesiones de la película</h1>
            <img id="movie-poster" src="" alt="Poster de la película">
        </header>

        <section class="session-controls">
            <button onclick="cambiarDia(-1)">◀️</button>
            <span id="dia-seleccionado">Lunes</span>
            <button onclick="cambiarDia(1)">▶️</button>
        </section>

        <section class="sessions" id="session-cards">
            <!-- Aquí se cargarán las tarjetas de horarios -->
        </section>

        <button class="back-button" onclick="window.history.back()">Volver</button>
    </div>

    <script>
        // Aquí es donde definimos las sesiones de ejemplo (estos datos los puedes modificar para que provengan de un archivo JSON o una base de datos)
        const peliculas = {
            "Cars": {
                titulo: "Cars",
                imagen: "images/cars-poster.jpg", // Asegúrate de tener esta imagen
                sesiones: {
                    "Lunes": ["10:00 AM", "1:30 PM", "4:00 PM", "7:00 PM"],
                    "Martes": ["10:30 AM", "2:00 PM", "5:00 PM", "8:00 PM"],
                    // Más días...
                }
            },
            "Torrente": {
                titulo: "Torrente, El brazo tonto de la ley",
                imagen: "images/torrente-poster.jpg", // Asegúrate de tener esta imagen
                sesiones: {
                    "Lunes": ["11:00 AM", "2:30 PM", "6:00 PM"],
                    "Martes": ["12:00 PM", "3:30 PM", "7:30 PM"],
                    // Más días...
                }
            }
        };

        let dias = ["Lunes", "Martes", "Miércoles", "Jueves", "Viernes", "Sábado", "Domingo"];
        let diaActual = 0;

        // Obtener el parámetro de la película desde la URL
        const urlParams = new URLSearchParams(window.location.search);
        const peliculaSeleccionada = urlParams.get("pelicula");

        function cargarPelicula() {
            const pelicula = peliculas[peliculaSeleccionada];
            if (pelicula) {
                document.getElementById("titulo-pelicula").textContent = pelicula.titulo;
                document.getElementById("movie-poster").src = pelicula.imagen;  // Establecer la imagen de la película
                cargarSesiones(dias[diaActual]);
            } else {
                document.getElementById("titulo-pelicula").textContent = "Película no encontrada";
                document.getElementById("session-cards").innerHTML = "<p>No hay sesiones disponibles.</p>";
            }
        }

        function cargarSesiones(dia) {
            const pelicula = peliculas[peliculaSeleccionada];
            const horarios = pelicula.sesiones[dia] || [];
            document.getElementById("dia-seleccionado").textContent = dia;

            const sessionCards = document.getElementById("session-cards");
            sessionCards.innerHTML = ""; // Limpiar las sesiones actuales

            horarios.forEach(horario => {
                const card = document.createElement("div");
                card.className = "session-card";
                card.textContent = horario;
                sessionCards.appendChild(card);
            });
        }

        function cambiarDia(direccion) {
            diaActual = (diaActual + direccion + dias.length) % dias.length;
            cargarSesiones(dias[diaActual]);
        }

        // Cargar la película al cargar la página
        window.onload = cargarPelicula;
    </script>
</body>
</html>
